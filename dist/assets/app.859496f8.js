import"./style.7f2dd081.js";let l=20,c=[["gray",245,246,248],["light_yellow",254,248,185],["yellow",239,209,80],["orange",241,161,89],["light_green",219,244,158],["green",205,221,107],["dark_green",161,207,127],["cyan",126,196,191],["light_pink",247,208,223],["pink",222,152,185],["violet",182,139,195],["red",224,116,129],["light_blue",173,203,241],["blue",135,213,246],["dark_blue",126,147,247],["black",0,0,0]],s=document.getElementById("myCanvas"),g=s.getContext("2d");s.width=200;s.height=200;let B="";I(B);let r=0,d=0,f=0,m=0,y=0,h=0,u=0,w=0,b=0;window.onload=function(){E();let t="";navigator.appVersion.indexOf("Mac")!=-1?t="(\u2318 + V)":t="(Ctrl + V)",document.getElementById("shortcut").innerHTML=t};document.getElementById("resolution").onchange=function(){l=Number(document.getElementById("resolution").value)};document.getElementById("btn_start").onclick=function(){x(),r=0,d=0,f=0,m=0;var t=200/l;for(console.log("scan grid size:"+t),r=0;r<l;r++)for(d=0;d<l;d++){var t=200/l;for(console.log("scan grid size:"+t),y=0,h=0,u=0,f=0;f<t;f++)for(m=0;m<t;m++){var e=g.getImageData(r*(200/l)+f,d*(200/l)+m,1,1).data;y=y+e[0],h=h+e[1],u=u+e[2]}var n=C(y/Math.pow(t,2),h/Math.pow(t,2),u/Math.pow(t,2));L(r,d,n)}z()};document.getElementById("btn_feedback").onclick=function(){document.getElementById("form_feedback").style.display="block",document.getElementById("btn_feedback").style.display="none"};document.getElementById("btn_sendfeedback").onclick=function(){document.getElementById("form_feedback").style.display="none",document.getElementById("btn_feedback").style.display="block"};window.addEventListener("paste",function(t){if(t.clipboardData==!1)return!1;var e=t.clipboardData.items;if(e==null)return!1;for(var n=0;n<e.length;n++)if(e[n].type.indexOf("image")!=-1){var a=e[n].getAsFile(),i=window.URL||window.webkitURL,o=i.createObjectURL(a);g.fillStyle="#fff",g.fillRect(0,0,s.width,s.height),I(o),document.getElementById("hint").style.display="none"}});function I(t){var e=new Image,n,a,i,o;e.onload=function(){this.width>this.height?(n=200,a=200*(this.height/this.width),i=0,o=(200-a)/2):(n=200*(this.width/this.height),a=200,i=(200-n)/2,o=0),g.drawImage(e,i,o,n,a)},e.src=t}async function x(){E();let t=45*(2+l),e=45*(2+l),n=w+t/2+100,a=b+e/2+0;const i=await miro.board.createFrame({title:"",style:{fillColor:"#ffffff"},x:n,y:a,width:t,height:e});await miro.board.viewport.zoomTo(i)}async function E(){(await miro.board.get({type:"frame"})).forEach(function(e){e.x+e.width/2>w&&(w=e.x+e.width/2),e.y-e.height/2<b&&(b=e.y-e.height/2)})}function C(t,e,n){var a,i,o,_,k;let p=500,v=0;for(a=0;a<c.length;a++)i=t-c[a][1],o=e-c[a][2],_=n-c[a][3],k=Math.sqrt(i*i+o*o+_*_),k<p&&(p=k,v=a);return c[v][0]}async function L(t,e,n){n=="gray"||await miro.board.createStickyNote({content:"",style:{fillColor:n,textAlign:"center",textAlignVertical:"middle"},x:w+(t+3.5)*45,y:b+(e+1.5)*45,shape:"square",width:40})}async function z(){await miro.board.ui.closePanel()}
